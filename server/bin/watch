#!/usr/bin/env node
var cp = require('child_process');
var watch = require('node-watch');

var serverExe = 'python -m SimpleHTTPServer';
var watchTarget = './lib/';

var server = cp.exec(serverExe);
console.log('Server started');

watch(watchTarget, function (event, filename) {
  server.kill();
  console.log('Server stopped');
  server = cp.exec('python -m SimpleHTTPServer');
  console.log('Server started');
});

process.on('SIGINT', function () {
  server.kill();
  console.log('\nServer stopped')
  process.exit();
});
